
import React, { createContext, useContext, useState, useEffect } from 'react';

export type Language = 'en' | 'ru';

export const translations = {
  en: {
    'app.title': 'VALHALLA',
    
    // Plans
    'plan.free': 'Viking',
    'plan.free_sub': 'The Initiate',
    'plan.standard': 'Berserker',
    'plan.standard_sub': 'The Warrior',
    'plan.pro': 'Jarl',
    'plan.pro_sub': 'The Legend',
    'plan.upgrade_title': 'Choose Your Destiny',
    'plan.upgrade_desc': 'Ascend the ranks to unlock power.',
    'plan.feature_ads': 'Clear Mind (No Ads)',
    'plan.feature_themes': 'War Paint (Themes)',
    'plan.feature_ai': 'The Seer (AI)',
    'plan.feature_sync': 'Bifrost (Cloud Sync)',
    'plan.feature_game': 'Glory (Leveling)',
    'plan.feature_priority': 'King\'s Favor (Support)',
    'plan.btn_free': 'Current Rank',
    'plan.btn_upgrade': 'Seize Power',
    'plan.most_popular': 'Warrior\'s Choice',
    'plan.best_value': 'Total Domination',

    // Ads
    'ad.title': 'Viking Path (Free Tier)',
    'ad.desc': 'Unlock the strength of a Jarl. Remove limits.',
    'ad.btn': 'Ascend Now',

    // Gamification
    'game.level': 'Glory Rank',
    'game.xp': 'Honor',
    'game.next': 'Next Rank',
    'game.toast_levelup': 'The Gods favor you! Rank Up:',

    // Onboarding
    'onboard.skip': 'Skip Intro',
    'onboard.next': 'Onward',
    'onboard.start': 'Enter Valhalla',
    'onboard.s1_title': 'Welcome to VALHALLA',
    'onboard.s1_desc': 'Forging order from chaos. Your saga begins now.',
    'onboard.s2_title': 'The Seer (AI)',
    'onboard.s2_desc': 'Command the Seer to organize your battles: "Raid tomorrow at dawn !high".',
    'onboard.s3_title': 'Total Conquest',
    'onboard.s3_desc': 'Train your body, sharpen your mind, rule your day.',

    // Navigation
    'nav.home': 'Great Hall (Home)',
    'nav.tasks': 'Quests (Tasks)',
    'nav.calendar': 'Saga (Calendar)',
    'nav.notes': 'Runes (Notes)',
    'nav.workouts': 'Arena (Workouts)',
    'nav.settings': 'Laws (Settings)',
    'nav.admin': 'Odin\'s Eye (Admin)',
    'nav.search': 'Consult Seer...',
    'nav.upgrade': 'Ascend',
    'nav.pro_access': 'JARL ACCESS',
    'nav.pro_desc': 'Rule with absolute power.',
    
    // Auth
    'auth.welcome': 'Gates of Valhalla',
    'auth.subtitle': 'Enter the hall of the disciplined.',
    'auth.login': 'Open Gates',
    'auth.register': 'Oath of Fealty',
    'auth.name': 'True Name',
    'auth.email': 'Raven Messenger (Email)',
    'auth.password': 'Rune Key (Password)',
    'auth.submit_login': 'Enter',
    'auth.submit_register': 'Swear Oath',
    'auth.switch_login': 'Return to Battle? Enter',
    'auth.switch_register': "New Warrior? Join us",

    // Dashboard
    'dashboard.welcome': 'The feast awaits, warrior.',
    'dashboard.focus': 'Battle Trance',
    'dashboard.focus_btn': 'Charge',
    'dashboard.break_btn': 'Recover',
    'dashboard.weather': 'Elements',
    'dashboard.progress': 'Conquest',
    'dashboard.tasks_count': 'quests',
    'dashboard.up_next': 'Imminent Threats',
    'dashboard.view_all': 'View All',
    'dashboard.no_tasks': 'Peace reigns in the realm.',
    'dashboard.quote': '"Wake early. Fight hard. Die with honor."',

    // News
    'news.title': 'Raven News',
    'news.read_more': 'Consult Scroll',
    'news.loading': 'Ravens are flying...',
    'news.error': 'Ravens lost.',
    'news.cat_general': 'Realms',
    'news.cat_tech': 'Artifice',
    'news.cat_business': 'Trade',
    'news.cat_science': 'Alchemy',
    'news.cat_sports': 'Games',

    // Tasks (ReminderView)
    'tasks.title': 'Quest Log',
    'tasks.subtitle_1': 'You face',
    'tasks.subtitle_2': 'foes today.',
    'tasks.new_task': 'New Quest',
    'tasks.filter_active': 'Active',
    'tasks.filter_all': 'All',
    'tasks.filter_completed': 'Slain',
    'tasks.sort_label': 'Priority',
    'tasks.empty_title': 'Victory.',
    'tasks.empty_desc': 'No enemies remain.',
    'tasks.empty_create': 'Seek new glory',
    'tasks.modal_title': 'Quest Details',
    'tasks.modal_name': 'Objective',
    'tasks.modal_details': 'Strategy',
    'tasks.modal_date': 'Battle Time',
    'tasks.modal_priority': 'Threat Level',
    'tasks.modal_repeat': 'Cycle',
    'tasks.modal_category': 'Clan',
    'tasks.modal_cancel': 'Retreat',
    'tasks.modal_save': 'Vow',
    'tasks.view_list': 'Scroll',
    'tasks.view_board': 'Tactics',
    'tasks.ai_placeholder': '✨ Seer: "Raid provisions tomorrow !high"',
    'tasks.ai_locked': 'Seer requires Jarl Rank',

    // Categories
    'cat.Work': 'Raids (Work)',
    'cat.Personal': 'Hearth (Personal)',
    'cat.Health': 'Might (Health)',
    'cat.Shopping': 'Loot (Buy)',
    'cat.Finance': 'Gold (Finance)',
    'cat.Education': 'Lore (Study)',

    // Notes (StickerBoard)
    'notes.title': 'Stone Tablets',
    'notes.subtitle': 'Carve your wisdom here.',
    'notes.clear': 'Shatter All',
    'notes.empty_title': 'Silence',
    'notes.empty_desc': 'Carve a new rune to remember.',
    'notes.placeholder': 'Etch your thoughts...',

    // Calendar
    'calendar.today': 'Now',
    'calendar.more': 'more',
    'calendar.mode_month': 'Month',
    'calendar.mode_agenda': 'Path',

    // Workouts
    'workout.title': 'Proving Grounds',
    'workout.subtitle': 'Forge your body into a weapon.',
    'workout.tab_routines': 'Regimens',
    'workout.tab_active': 'Fight',
    'workout.tab_history': 'Sagas',
    'workout.tab_explore': 'Codex',
    'workout.tab_stats': 'Runes',
    'workout.create_routine': 'New Regimen',
    'workout.empty_routines': 'No discipline defined.',
    'workout.start': 'Begin',
    'workout.exercises': 'Trials',
    'workout.modal_new_routine': 'New Regimen',
    'workout.modal_routine_name': 'Title',
    'workout.modal_add_exercise': 'Add Trial',
    'workout.modal_save': 'Forge',
    'workout.active_title': 'Current Battle',
    'workout.finish': 'Victory',
    'workout.cancel': 'Flee',
    'workout.rest_timer': 'Respite',
    'workout.set': 'Round',
    'workout.lbs': 'lbs',
    'workout.reps': 'reps',
    'workout.add_set': 'Next Round',
    'workout.log_empty': 'No sagas written yet.',
    'workout.explore_title': 'Warrior\'s Codex',
    'workout.explore_subtitle': 'Training of the ancients.',
    'workout.import': 'Learn',
    'workout.stats_volume': 'Might (Volume)',
    'workout.stats_workouts': 'Battles Fought',
    'workout.rec_fullbody': 'Beserker Body',
    'workout.rec_fullbody_desc': 'Total body conditioning.',
    'workout.rec_morning': 'Sun Salutation',
    'workout.rec_morning_desc': 'Awaken the spirit.',
    'workout.rec_upper': 'Thor\'s Hammer',
    'workout.rec_upper_desc': 'Arm strength. Requires iron.',
    'workout.rec_hiit': 'Valkyrie Flight',
    'workout.rec_hiit_desc': 'Speed and endurance.',

    // Exercises
    'workout.ex_squats': 'Squats',
    'workout.ex_pushups': 'Push-ups',
    'workout.ex_lunges': 'Lunges',
    'workout.ex_plank': 'Plank Shield',
    'workout.ex_jacks': 'Jumping Jacks',
    'workout.ex_neck': 'Neck Rotations',
    'workout.ex_catcow': 'Cat-Cow',
    'workout.ex_childpose': "Child's Pose",
    'workout.ex_shoulder': 'Shoulder Circles',
    'workout.ex_press': 'Overhead Press',
    'workout.ex_curls': 'Bicep Curls',
    'workout.ex_rows': 'Rows',
    'workout.ex_tricep': 'Tricep Ext',
    'workout.ex_lateral': 'Lateral Raises',
    'workout.ex_highknees': 'High Knees',
    'workout.ex_climbers': 'Climbers',
    'workout.ex_burpees': 'Burpees',
    'workout.ex_jumpsquats': 'Jump Squats',

    // Settings
    'settings.title': 'Laws of the Realm',
    'settings.subtitle': 'Configure your existence.',
    'settings.profile': 'Identity',
    'settings.logout': 'Depart',
    'settings.language': 'Tongue (Language)',
    'settings.plan_free': 'Viking',
    'settings.plan_pro': 'Jarl',
    'settings.workspace': 'Kingdom Status',
    'settings.upgrade': 'Claim Throne',
    'settings.data': 'Legacy (Data)',
    'settings.export': 'Scribe Saga',
    'settings.export_desc': 'Save your history to file.',
    'settings.export_btn': 'Scribe',
    'settings.import': 'Read Saga',
    'settings.import_desc': 'Load history from file.',
    'settings.import_btn': 'Read',
    'settings.autostart': 'Auto-Summon',
    'settings.autostart_desc': 'Launch when system wakes.',
    'settings.cloud': 'Bifrost Sync',
    'settings.cloud_desc': 'Connect realms.',
    'settings.appearance': 'Vision',
    'settings.dark_mode': 'Fimbulwinter',
    'settings.dark_mode_desc': 'Eternal night.',
    'settings.theme': 'War Paint',
    'settings.theme_desc': 'Colors of your clan.',
    'settings.locked': 'Forbidden',
    'settings.edit': 'Rewrite',
    'settings.save': 'Seal',
    'settings.cancel': 'Discard',

    // Admin Panel
    'admin.title': 'Odin\'s Eye',
    'admin.subtitle': 'See all, know all.',
    'admin.tab_dashboard': 'Omniscience',
    'admin.tab_users': 'Mortals',
    'admin.tab_content': 'Fate',
    'admin.metric_revenue': 'Tribute',
    'admin.metric_users': 'Warriors',
    'admin.metric_records': 'Deeds',
    'admin.metric_storage': 'Memory',
    'admin.health_title': 'Yggdrasil Health',
    'admin.health_storage': 'Root Capacity',
    'admin.health_api': 'Raven Link',
    'admin.health_db': 'Mimir\'s Well',
    'admin.status_operational': 'Strong',
    'admin.danger_title': 'Ragnarok',
    'admin.danger_desc': 'Destroy the world. Irreversible.',
    'admin.btn_reset': 'Ragnarok',
    'admin.users_title': 'Book of Mortals',
    'admin.search_placeholder': 'Find soul...',
    'admin.tbl_id': 'Mark',
    'admin.tbl_plan': 'Rank',
    'admin.tbl_storage': 'Weight',
    'admin.tbl_status': 'State',
    'admin.tbl_actions': 'Judgment',
    'admin.registry_title': 'Threads of Fate',
    'admin.tbl_task_title': 'Quest',
    'admin.tbl_task_due': 'End',
    'admin.tbl_task_admin': 'Judge',
    'admin.no_tasks': 'Void.',
    'admin.confirm_reset': 'Invoke Ragnarok? All will be lost.',
    'admin.confirm_delete': 'Strike from existence?',
    'admin.chart_activity': 'Realm Activity',

    // Common
    'greeting.morning': 'Dawn breaks',
    'greeting.afternoon': 'Sun is high',
    'greeting.evening': 'Night falls',
  },
  ru: {
    'app.title': 'VALHALLA',
    
    // Plans
    'plan.free': 'Викинг',
    'plan.free_sub': 'Начало Пути',
    'plan.standard': 'Берсерк',
    'plan.standard_sub': 'Ярость Боя',
    'plan.pro': 'Ярл',
    'plan.pro_sub': 'Легенда Севера',
    'plan.upgrade_title': 'Выбери Судьбу',
    'plan.upgrade_desc': 'Возвысься, чтобы обрести истинную силу.',
    'plan.feature_ads': 'Чистый Разум (Без рекламы)',
    'plan.feature_themes': 'Боевой Окрас (Темы)',
    'plan.feature_ai': 'Провидец (AI Ассистент)',
    'plan.feature_sync': 'Мост Бифрост (Облако)',
    'plan.feature_game': 'Слава (Уровни и Опыт)',
    'plan.feature_priority': 'Милость Конунга (Поддержка)',
    'plan.btn_free': 'Твой Ранг',
    'plan.btn_upgrade': 'Захватить Власть',
    'plan.most_popular': 'Выбор Воинов',
    'plan.best_value': 'Полное Владычество',

    // Ads
    'ad.title': 'Путь Викинга',
    'ad.desc': 'Стань Ярлом. Сбрось оковы ограничений.',
    'ad.btn': 'Возвыситься',

    // Gamification
    'game.level': 'Ранг Славы',
    'game.xp': 'Честь',
    'game.next': 'След. Ранг',
    'game.toast_levelup': 'Боги довольны тобой! Новый ранг:',

    // Onboarding
    'onboard.skip': 'В бой',
    'onboard.next': 'Далее',
    'onboard.start': 'Войти в Вальхаллу',
    'onboard.s1_title': 'Добро пожаловать в VALHALLA',
    'onboard.s1_desc': 'Создай порядок из хаоса. Твоя сага начинается.',
    'onboard.s2_title': 'Провидец (AI)',
    'onboard.s2_desc': 'Прикажи Провидцу планировать битвы: "Набег завтра на рассвете !важно".',
    'onboard.s3_title': 'Полное Господство',
    'onboard.s3_desc': 'Закаляй тело, точи ум, властвуй над днем.',

    // Navigation
    'nav.home': 'Чертог (Главная)',
    'nav.tasks': 'Битвы (Задачи)',
    'nav.calendar': 'Летопись (Календарь)',
    'nav.notes': 'Скрижали (Заметки)',
    'nav.workouts': 'Полигон (Тренировки)',
    'nav.settings': 'Кодекс (Настройки)',
    'nav.admin': 'Глаз Одина (Админ)',
    'nav.search': 'К Провидцу...',
    'nav.upgrade': 'Возвыситься',
    'nav.pro_access': 'ДОСТУП ЯРЛА',
    'nav.pro_desc': 'Власть и сила.',

    // Auth
    'auth.welcome': 'Врата Вальхаллы',
    'auth.subtitle': 'Вход только для достойных.',
    'auth.login': 'Открыть Врата',
    'auth.register': 'Клятва Верности',
    'auth.name': 'Истинное Имя',
    'auth.email': 'Ворон-Вестник',
    'auth.password': 'Рунный Ключ',
    'auth.submit_login': 'Войти',
    'auth.submit_register': 'Принести Клятву',
    'auth.switch_login': 'Вернуться с битвы? Вход',
    'auth.switch_register': "Новый воин? Вступить",

    // Dashboard
    'dashboard.welcome': 'Пир ожидает тебя, воин.',
    'dashboard.focus': 'Боевой Транс',
    'dashboard.focus_btn': 'В Атаку',
    'dashboard.break_btn': 'Привал',
    'dashboard.weather': 'Стихия',
    'dashboard.progress': 'Поход Дня',
    'dashboard.tasks_count': 'битв',
    'dashboard.up_next': 'Грядет',
    'dashboard.view_all': 'Все Битвы',
    'dashboard.no_tasks': 'В землях спокойно.',
    'dashboard.quote': '"Встань рано. Бейся жестко. Умри с честью."',

    // News
    'news.title': 'Вести Воронов',
    'news.read_more': 'Читать Свиток',
    'news.loading': 'Вороны в пути...',
    'news.error': 'Вороны сбились.',
    'news.cat_general': 'Земли',
    'news.cat_tech': 'Мастерство',
    'news.cat_business': 'Торговля',
    'news.cat_science': 'Алхимия',
    'news.cat_sports': 'Игрища',

    // Tasks
    'tasks.title': 'Книга Походов',
    'tasks.subtitle_1': 'У тебя',
    'tasks.subtitle_2': 'врагов на сегодня.',
    'tasks.new_task': 'Новый Поход',
    'tasks.filter_active': 'В бою',
    'tasks.filter_all': 'Все',
    'tasks.filter_completed': 'Победа',
    'tasks.sort_label': 'Сортировка: Угроза',
    'tasks.empty_title': 'Победа.',
    'tasks.empty_desc': 'Врагов не осталось.',
    'tasks.empty_create': 'Найти новую славу',
    'tasks.modal_title': 'Детали Похода',
    'tasks.modal_name': 'Цель',
    'tasks.modal_details': 'Стратегия',
    'tasks.modal_date': 'Время Битвы',
    'tasks.modal_priority': 'Угроза',
    'tasks.modal_repeat': 'Цикл',
    'tasks.modal_category': 'Клан',
    'tasks.modal_cancel': 'Отступить',
    'tasks.modal_save': 'Поклясться',
    'tasks.view_list': 'Свиток',
    'tasks.view_board': 'Тактика',
    'tasks.ai_placeholder': '✨ Провидец: "Набег на запасы завтра !важно"',
    'tasks.ai_locked': 'Провидец служит Ярлам',

    // Categories
    'cat.Work': 'Набеги (Работа)',
    'cat.Personal': 'Очаг (Личное)',
    'cat.Health': 'Мощь (Здоровье)',
    'cat.Shopping': 'Добыча (Покупки)',
    'cat.Finance': 'Золото (Финансы)',
    'cat.Education': 'Мудрость (Учеба)',

    // Notes
    'notes.title': 'Каменные Скрижали',
    'notes.subtitle': 'Высеки свою мудрость.',
    'notes.clear': 'Разбить Всё',
    'notes.empty_title': 'Тишина',
    'notes.empty_desc': 'Выбери стихию цвета, чтобы оставить знак.',
    'notes.placeholder': 'Высекай мысли здесь...',

    // Calendar
    'calendar.today': 'Сейчас',
    'calendar.more': 'ещё',
    'calendar.mode_month': 'Луна',
    'calendar.mode_agenda': 'Путь',

    // Workouts
    'workout.title': 'Полигон',
    'workout.subtitle': 'Закали тело как сталь.',
    'workout.tab_routines': 'Режимы',
    'workout.tab_active': 'Бой',
    'workout.tab_history': 'Саги',
    'workout.tab_explore': 'Кодекс',
    'workout.tab_stats': 'Руны',
    'workout.create_routine': 'Создать Режим',
    'workout.empty_routines': 'Дисциплина не задана.',
    'workout.start': 'Начать',
    'workout.exercises': 'Испытания',
    'workout.modal_new_routine': 'Новый Режим',
    'workout.modal_routine_name': 'Название',
    'workout.modal_add_exercise': 'Добавить Испытание',
    'workout.modal_save': 'Закалить',
    'workout.active_title': 'Текущая Битва',
    'workout.finish': 'Победа',
    'workout.cancel': 'Бегство',
    'workout.rest_timer': 'Передышка',
    'workout.set': 'Круг',
    'workout.lbs': 'кг',
    'workout.reps': 'повт',
    'workout.add_set': 'Ещё Круг',
    'workout.log_empty': 'Саги ещё не сложены.',
    'workout.explore_title': 'Кодекс Воина',
    'workout.explore_subtitle': 'Тренировки древних.',
    'workout.import': 'Изучить',
    'workout.stats_volume': 'Мощь',
    'workout.stats_workouts': 'Битв',
    'workout.rec_fullbody': 'Тело Берсерка',
    'workout.rec_fullbody_desc': 'Полная закалка тела без железа.',
    'workout.rec_morning': 'Приветствие Солнца',
    'workout.rec_morning_desc': 'Пробуждение духа.',
    'workout.rec_upper': 'Молот Тора',
    'workout.rec_upper_desc': 'Сила рук. Нужна сталь (гантели).',
    'workout.rec_hiit': 'Полет Валькирии',
    'workout.rec_hiit_desc': 'Скорость и выносливость.',

    // Exercises
    'workout.ex_squats': 'Приседания',
    'workout.ex_pushups': 'Отжимания',
    'workout.ex_lunges': 'Выпады',
    'workout.ex_plank': 'Щит (Планка)',
    'workout.ex_jacks': 'Прыжки Джека',
    'workout.ex_neck': 'Вращение Шеи',
    'workout.ex_catcow': 'Кошка-Корова',
    'workout.ex_childpose': 'Поза Ребенка',
    'workout.ex_shoulder': 'Плечи',
    'workout.ex_press': 'Жим Вверх',
    'workout.ex_curls': 'Бицепс',
    'workout.ex_rows': 'Тяга',
    'workout.ex_tricep': 'Трицепс',
    'workout.ex_lateral': 'Махи',
    'workout.ex_highknees': 'Высокие Колени',
    'workout.ex_climbers': 'Скалолаз',
    'workout.ex_burpees': 'Берпи',
    'workout.ex_jumpsquats': 'Прыжковые Приседания',

    // Settings
    'settings.title': 'Кодекс Земель',
    'settings.subtitle': 'Настрой свою реальность.',
    'settings.profile': 'Личность',
    'settings.logout': 'Уйти',
    'settings.language': 'Язык (Language)',
    'settings.plan_free': 'Викинг',
    'settings.plan_pro': 'Ярл',
    'settings.workspace': 'Статус Владений',
    'settings.upgrade': 'Занять Трон',
    'settings.data': 'Наследие (Данные)',
    'settings.export': 'Записать Сагу',
    'settings.export_desc': 'Сохранить историю в файл.',
    'settings.export_btn': 'Записать',
    'settings.import': 'Прочесть Сагу',
    'settings.import_desc': 'Загрузить историю.',
    'settings.import_btn': 'Прочесть',
    'settings.autostart': 'Авто-Призыв',
    'settings.autostart_desc': 'Запуск при пробуждении системы.',
    'settings.cloud': 'Мост Бифрост',
    'settings.cloud_desc': 'Связь миров (Облако).',
    'settings.appearance': 'Видение',
    'settings.dark_mode': 'Фимбулвинтер',
    'settings.dark_mode_desc': 'Вечная ночь (Тьма).',
    'settings.theme': 'Боевой Окрас',
    'settings.theme_desc': 'Цвета твоего клана.',
    'settings.locked': 'Запретно',
    'settings.edit': 'Изменить',
    'settings.save': 'Сохранить',
    'settings.cancel': 'Отмена',

    // Admin Panel
    'admin.title': 'Глаз Одина',
    'admin.subtitle': 'Видеть всё, знать всё.',
    'admin.tab_dashboard': 'Всеведение',
    'admin.tab_users': 'Смертные',
    'admin.tab_content': 'Судьбы',
    'admin.metric_revenue': 'Подношения',
    'admin.metric_users': 'Воины',
    'admin.metric_records': 'Деяния',
    'admin.metric_storage': 'Память',
    'admin.health_title': 'Здоровье Иггдрасиля',
    'admin.health_storage': 'Корни',
    'admin.health_api': 'Связь с Вороном',
    'admin.health_db': 'Источник Мимира',
    'admin.status_operational': 'Мощь',
    'admin.danger_title': 'Рагнарок',
    'admin.danger_desc': 'Уничтожить мир. Необратимо.',
    'admin.btn_reset': 'Рагнарок',
    'admin.users_title': 'Книга Смертных',
    'admin.search_placeholder': 'Найти душу...',
    'admin.tbl_id': 'Метка',
    'admin.tbl_plan': 'Ранг',
    'admin.tbl_storage': 'Вес',
    'admin.tbl_status': 'Статус',
    'admin.tbl_actions': 'Суд',
    'admin.registry_title': 'Нити Судьбы',
    'admin.tbl_task_title': 'Поход',
    'admin.tbl_task_due': 'Срок',
    'admin.tbl_task_admin': 'Судья',
    'admin.no_tasks': 'Пустота.',
    'admin.confirm_reset': 'Призвать Рагнарок? Всё исчезнет.',
    'admin.confirm_delete': 'Стереть из бытия?',
    'admin.chart_activity': 'Активность Земель',

    // Common
    'greeting.morning': 'Рассвет настал',
    'greeting.afternoon': 'Солнце высоко',
    'greeting.evening': 'Ночь пала',
  }
};

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType>({
  language: 'en',
  setLanguage: () => {},
  t: (k) => k,
});

export const LanguageProvider = ({ children }: { children?: React.ReactNode }) => {
  const [language, setLanguage] = useState<Language>(() => {
    const saved = localStorage.getItem('app_language');
    return (saved as Language) || 'en';
  });

  useEffect(() => {
    localStorage.setItem('app_language', language);
  }, [language]);

  const t = (key: string) => {
    // @ts-ignore
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => useContext(LanguageContext);
